<!DOCTYPE html>
<html lang="en" class="bg-black text-gray-100">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chapter 3 – Uncompromising Python</title>

  <!-- ✅ Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            blood: '#ff2c2c',
            bgdark: '#0f0f0f',
            codebg: '#1a1a1a',
          },
          fontFamily: {
            mono: ['Fira Code', 'monospace'],
            sans: ['Inter', 'sans-serif']
          }
        }
      }
    }
  </script>

  <!-- ✅ Highlight.js styles -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
</head>
<body class="bg-bgdark min-h-screen px-6 py-10 font-sans tracking-wide leading-relaxed">

  <!-- ✅ Title -->
  <header class="mb-12 text-center">
    <h1 class="text-5xl font-extrabold text-blood border-b-4 inline-block border-blood pb-2">
      Chapter 3: The Unforgiving Logic of Data
    </h1>
  </header>

  <!-- ✅ Markdown Render Container -->
  <main id="markdown-content"
        class="prose prose-xl prose-invert prose-pre:rounded-lg prose-pre:p-4 prose-code:text-pink-400
               prose-headings:text-blood max-w-6xl mx-auto">
    <p class="text-gray-400">Loading content...</p>
  </main>

  <!-- ✅ Markdown Parser + Syntax Highlighter -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

  <!-- ✅ Render Logic -->
  <script>
    marked.setOptions({
      highlight: (code, lang) => hljs.highlightAuto(code).value,
      langPrefix: 'hljs language-',
      breaks: true
    });

    const mdURL = "https://raw.githubusercontent.com/liminal-mradul/Uncompromising-Python/main/Chapter3/content.md";

    fetch(mdURL)
      .then(res => res.text())
      .then(md => {
        document.getElementById("markdown-content").innerHTML = marked.parse(md);
        hljs.highlightAll(); // re-run after DOM updated
      })
      .catch(err => {
        document.getElementById("markdown-content").innerHTML = `<p class="text-red-500">❌ Failed to load content.</p>`;
        console.error(err);
      });
  </script>
</body>
</html>
